const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProgramList-cW_wob31.js","assets/vendor-amplify--Mqz53-D.js","assets/vendor-react-BcQzlVW4.js","assets/ConfirmDialog-BVTJzjAX.js","assets/vendor-icons-BYRHc9LL.js","assets/ProgramDetail-BcIi2jdi.js","assets/WorkoutSession-DIbLsq9f.js"])))=>i.map(i=>d[i]);
import{A as e,p as t,C as n,c as i,u as r,r as o,s,f as a,j as c,g as l,R as u,O as d,m as p,a as h,b as f,d as m,e as y,h as v,N as b,i as g,k as E,l as T,n as N,H as S,o as A,U as I,q as O,t as k,v as w,w as _,x as C,y as x,z as R,B as D,D as L}from"./vendor-amplify--Mqz53-D.js";import{c as P,g as M,L as F,R as q,a as j,d as K,e as U,N as B,B as $}from"./vendor-react-BcQzlVW4.js";import{D as G,L as V}from"./vendor-icons-BYRHc9LL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var W,H={};const Y=M(function(){if(W)return H;W=1;var e=P();return H.createRoot=e.createRoot,H.hydrateRoot=e.hydrateRoot,H}()),Q={},J=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));i=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Q)return;Q[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var X="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function Z(e,t){for(var n,i=/\r\n|[\n\r]/g,r=1,o=t+1;(n=i.exec(e.body))&&n.index<t;)r+=1,o=t+1-(n.index+n[0].length);return{line:r,column:o}}function ee(e){return te(e.source,Z(e.source,e.start))}function te(e,t){var n=e.locationOffset.column-1,i=ie(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,l="".concat(e.name,":").concat(s,":").concat(c,"\n"),u=i.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){for(var p=Math.floor(c/80),h=c%80,f=[],m=0;m<d.length;m+=80)f.push(d.slice(m,m+80));return l+ne([["".concat(s),f[0]]].concat(f.slice(1,p+1).map(function(e){return["",e]}),[[" ",ie(h-1)+"^"],["",f[p+1]]]))}return l+ne([["".concat(s-1),u[r-1]],["".concat(s),d],["",ie(c-1)+"^"],["".concat(s+1),u[r+1]]])}function ne(e){var t=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,i=e[0],r=e[1];return ie(n-(t=i).length)+t+(r?" | "+r:" |")}).join("\n")}function ie(e){return Array(e+1).join(" ")}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}function ce(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){var t="function"==typeof Map?new Map:void 0;return ue=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return de(e,arguments,fe(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),he(i,e)},ue(e)}function de(e,t,n){return(de=pe()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&he(r,n.prototype),r}).apply(null,arguments)}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(i,ue(Error));var e,t,n=(e=i,t=pe(),function(){var n,i=fe(e);if(t){var r=fe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ce(this,n)});function i(e,t,r,o,s,a,c){var l,u,d,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(p=n.call(this,e)).name="GraphQLError",p.originalError=null!=a?a:void 0,p.nodes=ye(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],f=0,m=null!==(y=p.nodes)&&void 0!==y?y:[];f<m.length;f++){var y,v=m[f].loc;null!=v&&h.push(v)}h=ye(h),p.source=null!=r?r:null===(l=h)||void 0===l?void 0:l[0].source,p.positions=null!=o?o:null===(u=h)||void 0===u?void 0:u.map(function(e){return e.start}),p.locations=o&&r?o.map(function(e){return Z(r,e)}):null===(d=h)||void 0===d?void 0:d.map(function(e){return Z(e.source,e.start)}),p.path=null!=s?s:void 0;var b,g=null==a?void 0:a.extensions;return null==c&&("object"==z(b=g)&&null!==b)?p.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach(function(t){se(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},g):p.extensions=null!=c?c:{},Object.defineProperties(le(p),{message:{enumerable:!0},locations:{enumerable:null!=p.locations},path:{enumerable:null!=p.path},extensions:{enumerable:null!=p.extensions&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack?(Object.defineProperty(le(p),"stack",{value:a.stack,writable:!0,configurable:!0}),ce(p)):(Error.captureStackTrace?Error.captureStackTrace(le(p),i):Object.defineProperty(le(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return ae(i,[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r=i[n];r.loc&&(t+="\n\n"+ee(r.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var a=s[o];t+="\n\n"+te(e.source,a)}return t}(this)}},{key:X,get:function(){return"Object"}}]),i}();function ye(e){return void 0===e||0===e.length?void 0:e}function ve(e,t,n){return new me("Syntax Error: ".concat(n),void 0,e,[t])}var be=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var ge="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Ee(e){var t=e.prototype.toJSON;"function"==typeof t||function(e){if(!Boolean(e))throw new Error("Unexpected invariant triggered.")}(0),e.prototype.inspect=t,ge&&(e.prototype[ge]=t)}var Te=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Ee(Te);var Ne=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function Se(e){return null!=e&&"string"==typeof e.kind}Ee(Ne);var Ae=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e){return ke(e,[])}function ke(e,t){switch(Ie(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(ge)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==i){var r=i.call(e);if(r!==e)return"string"==typeof r?r:ke(r,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,r=[],o=0;o<n;++o)r.push(ke(e[o],t));1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var i=n.map(function(n){return n+": "+ke(e[n],t)});return"{ "+i.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function we(e,t){if(!Boolean(e))throw new Error(t)}function _e(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}var Ce=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||we(0,"Body must be a string. Received: ".concat(Oe(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||we(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||we(0,"column in locationOffset is 1-indexed and must be positive.")}return _e(e,[{key:X,get:function(){return"Source"}}]),e}();var xe=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Re(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var r=0;r<t.length&&De(t[r]);)++r;for(var o=t.length;o>r&&De(t[o-1]);)--o;return t.slice(r,o).join("\n")}function De(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Le=function(){function e(e){var t=new Ne(Ae.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Ae.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Me(this,e)}while(e.kind===Ae.COMMENT);return e},e}();function Pe(e){return isNaN(e)?Ae.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Me(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var s=i.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ne(Ae.BANG,o,o+1,a,c,t);case 35:return qe(n,o,a,c,t);case 36:return new Ne(Ae.DOLLAR,o,o+1,a,c,t);case 38:return new Ne(Ae.AMP,o,o+1,a,c,t);case 40:return new Ne(Ae.PAREN_L,o,o+1,a,c,t);case 41:return new Ne(Ae.PAREN_R,o,o+1,a,c,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new Ne(Ae.SPREAD,o,o+3,a,c,t);break;case 58:return new Ne(Ae.COLON,o,o+1,a,c,t);case 61:return new Ne(Ae.EQUALS,o,o+1,a,c,t);case 64:return new Ne(Ae.AT,o,o+1,a,c,t);case 91:return new Ne(Ae.BRACKET_L,o,o+1,a,c,t);case 93:return new Ne(Ae.BRACKET_R,o,o+1,a,c,t);case 123:return new Ne(Ae.BRACE_L,o,o+1,a,c,t);case 124:return new Ne(Ae.PIPE,o,o+1,a,c,t);case 125:return new Ne(Ae.BRACE_R,o,o+1,a,c,t);case 34:return 34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2)?Be(n,o,a,c,t,e):Ue(n,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return je(n,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Ve(n,o,a,c,t)}throw ve(n,o,Fe(s))}var l=e.line,u=1+o-e.lineStart;return new Ne(Ae.EOF,r,r,l,u,t)}function Fe(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Pe(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Pe(e),".")}function qe(e,t,n,i,r){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new Ne(Ae.COMMENT,t,a,n,i,r,s.slice(t+1,a))}function je(e,t,n,i,r,o){var s=e.body,a=n,c=t,l=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw ve(e,c,"Invalid number, unexpected digit after 0: ".concat(Pe(a),"."))}else c=Ke(e,c,a),a=s.charCodeAt(c);if(46===a&&(l=!0,a=s.charCodeAt(++c),c=Ke(e,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(l=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=Ke(e,c,a),a=s.charCodeAt(c)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw ve(e,c,"Invalid number, expected digit but got: ".concat(Pe(a),"."));return new Ne(l?Ae.FLOAT:Ae.INT,t,c,i,r,o,s.slice(t,c))}function Ke(e,t,n){var i=e.body,r=t,o=n;if(o>=48&&o<=57){do{o=i.charCodeAt(++r)}while(o>=48&&o<=57);return r}throw ve(e,r,"Invalid number, expected digit but got: ".concat(Pe(o),"."))}function Ue(e,t,n,i,r){for(var o=e.body,s=t+1,a=s,c=0,l="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&10!==c&&13!==c;){if(34===c)return l+=o.slice(a,s),new Ne(Ae.STRING,t,s+1,n,i,r,l);if(c<32&&9!==c)throw ve(e,s,"Invalid character within String: ".concat(Pe(c),"."));if(++s,92===c){switch(l+=o.slice(a,s-1),c=o.charCodeAt(s)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var u=$e(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(u<0){var d=o.slice(s+1,s+5);throw ve(e,s,"Invalid character escape sequence: \\u".concat(d,"."))}l+=String.fromCharCode(u),s+=4;break;default:throw ve(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}a=++s}}throw ve(e,s,"Unterminated string.")}function Be(e,t,n,i,r,o){for(var s=e.body,a=t+3,c=a,l=0,u="";a<s.length&&!isNaN(l=s.charCodeAt(a));){if(34===l&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return u+=s.slice(c,a),new Ne(Ae.BLOCK_STRING,t,a+3,n,i,r,Re(u));if(l<32&&9!==l&&10!==l&&13!==l)throw ve(e,a,"Invalid character within String: ".concat(Pe(l),"."));10===l?(++a,++o.line,o.lineStart=a):13===l?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===l&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(u+=s.slice(c,a)+'"""',c=a+=4):++a}throw ve(e,a,"Unterminated string.")}function $e(e,t,n,i){return Ge(e)<<12|Ge(t)<<8|Ge(n)<<4|Ge(i)}function Ge(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ve(e,t,n,i,r){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new Ne(Ae.NAME,t,a,n,i,r,o.slice(t,a))}function We(e,t){return new He(e,t).parseDocument()}var He=function(){function e(e,t){var n=function(e){return e instanceof Ce}(e)?e:new Ce(e);this._lexer=new Le(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Ae.NAME);return{kind:be.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:be.DOCUMENT,definitions:this.many(Ae.SOF,this.parseDefinition,Ae.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Ae.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ae.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Ae.BRACE_L))return{kind:be.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Ae.NAME)&&(t=this.parseName()),{kind:be.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Ae.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Ae.PAREN_L,this.parseVariableDefinition,Ae.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:be.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ae.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ae.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Ae.DOLLAR),{kind:be.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:be.SELECTION_SET,selections:this.many(Ae.BRACE_L,this.parseSelection,Ae.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Ae.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(Ae.COLON)?(e=i,t=this.parseName()):t=i,{kind:be.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ae.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ae.PAREN_L,t,Ae.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Ae.COLON),{kind:be.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:be.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ae.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Ae.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Ae.NAME)?{kind:be.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:be.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:be.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:be.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Ae.BRACKET_L:return this.parseList(e);case Ae.BRACE_L:return this.parseObject(e);case Ae.INT:return this._lexer.advance(),{kind:be.INT,value:t.value,loc:this.loc(t)};case Ae.FLOAT:return this._lexer.advance(),{kind:be.FLOAT,value:t.value,loc:this.loc(t)};case Ae.STRING:case Ae.BLOCK_STRING:return this.parseStringLiteral();case Ae.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:be.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:be.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:be.NULL,loc:this.loc(t)};default:return{kind:be.ENUM,value:t.value,loc:this.loc(t)}}case Ae.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:be.STRING,value:e.value,block:e.kind===Ae.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:be.LIST,values:this.any(Ae.BRACKET_L,function(){return t.parseValueLiteral(e)},Ae.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:be.OBJECT,fields:this.any(Ae.BRACE_L,function(){return t.parseObjectField(e)},Ae.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Ae.COLON),{kind:be.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Ae.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Ae.AT),{kind:be.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Ae.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Ae.BRACKET_R),e={kind:be.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Ae.BANG)?{kind:be.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:be.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Ae.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Ae.STRING)||this.peek(Ae.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(Ae.BRACE_L,this.parseOperationTypeDefinition,Ae.BRACE_R);return{kind:be.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Ae.COLON);var n=this.parseNamedType();return{kind:be.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:be.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:be.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Ae.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Ae.AMP)||this.peek(Ae.NAME));return t}return this.delimitedMany(Ae.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Ae.BRACE_L)&&this._lexer.lookahead().kind===Ae.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ae.BRACE_L,this.parseFieldDefinition,Ae.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(Ae.COLON);var r=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:be.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Ae.PAREN_L,this.parseInputValueDef,Ae.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Ae.COLON);var i,r=this.parseTypeReference();this.expectOptionalToken(Ae.EQUALS)&&(i=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:be.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:be.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:be.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ae.EQUALS)?this.delimitedMany(Ae.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:be.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Ae.BRACE_L,this.parseEnumValueDefinition,Ae.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:be.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:be.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Ae.BRACE_L,this.parseInputValueDef,Ae.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Ae.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Ae.BRACE_L,this.parseOperationTypeDefinition,Ae.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:be.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:be.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:be.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:be.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:be.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:be.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:be.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ae.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:be.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Ae.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==xe[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Te(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw ve(this._lexer.source,t.start,"Expected ".concat(Qe(e),", found ").concat(Ye(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Ae.NAME||t.value!==e)throw ve(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Ye(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Ae.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return ve(this._lexer.source,t.start,"Unexpected ".concat(Ye(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do{i.push(t.call(this))}while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function Ye(e){var t=e.value;return Qe(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Qe(e){return function(e){return e===Ae.BANG||e===Ae.DOLLAR||e===Ae.AMP||e===Ae.PAREN_L||e===Ae.PAREN_R||e===Ae.SPREAD||e===Ae.COLON||e===Ae.EQUALS||e===Ae.AT||e===Ae.BRACKET_L||e===Ae.BRACKET_R||e===Ae.BRACE_L||e===Ae.PIPE||e===Ae.BRACE_R}(e)?'"'.concat(e,'"'):e}var Je={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ze=Object.freeze({});function Xe(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function Ze(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Je,i=void 0,r=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,l=void 0,u=void 0,d=[],p=[],h=e;do{var f=++s===o.length,m=f&&0!==a.length;if(f){if(l=0===p.length?void 0:d[d.length-1],c=u,u=p.pop(),m){if(r)c=c.slice();else{for(var y={},v=0,b=Object.keys(c);v<b.length;v++){var g=b[v];y[g]=c[g]}c=y}for(var E=0,T=0;T<a.length;T++){var N=a[T][0],S=a[T][1];r&&(N-=E),r&&null===S?(c.splice(N,1),E++):c[N]=S}}s=i.index,o=i.keys,a=i.edits,r=i.inArray,i=i.prev}else{if(l=u?r?s:o[s]:void 0,null==(c=u?u[l]:h))continue;u&&d.push(l)}var A,I=void 0;if(!Array.isArray(c)){if(!Se(c))throw new Error("Invalid AST Node: ".concat(Oe(c),"."));var O=Xe(t,c.kind,f);if(O){if((I=O.call(t,c,l,u,d,p))===ze)break;if(!1===I){if(!f){d.pop();continue}}else if(void 0!==I&&(a.push([l,I]),!f)){if(!Se(I)){d.pop();continue}c=I}}}void 0===I&&m&&a.push([l,c]),f?d.pop():(i={inArray:r,index:s,keys:o,edits:a,prev:i},o=(r=Array.isArray(c))?c:null!==(A=n[c.kind])&&void 0!==A?A:[],s=-1,a=[],u&&p.push(u),u=c)}while(void 0!==i);return 0!==a.length&&(h=a[a.length-1][1]),h}(e,{leave:et})}var et={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return nt(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=rt("(",nt(e.variableDefinitions,", "),")"),r=nt(e.directives," "),o=e.selectionSet;return n||r||i||"query"!==t?nt([t,nt([n,i]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,r=e.directives;return t+": "+n+rt(" = ",i)+rt(" ",nt(r," "))},SelectionSet:function(e){return it(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,o=e.selectionSet,s=rt("",t,": ")+n,a=s+rt("(",nt(i,", "),")");return a.length>80&&(a=s+rt("(\n",ot(nt(i,"\n")),"\n)")),nt([a,nt(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+rt(" ",nt(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return nt(["...",rt("on ",t),nt(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(rt("(",nt(i,", "),")")," ")+"on ".concat(n," ").concat(rt("",nt(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),r=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!i||o||s||n,c="";return!a||i&&r||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+nt(e.values,", ")+"]"},ObjectValue:function(e){return"{"+nt(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+rt("(",nt(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:tt(function(e){var t=e.directives,n=e.operationTypes;return nt(["schema",nt(t," "),it(n)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:tt(function(e){return nt(["scalar",e.name,nt(e.directives," ")]," ")}),ObjectTypeDefinition:tt(function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return nt(["type",t,rt("implements ",nt(n," & ")),nt(i," "),it(r)]," ")}),FieldDefinition:tt(function(e){var t=e.name,n=e.arguments,i=e.type,r=e.directives;return t+(at(n)?rt("(\n",ot(nt(n,"\n")),"\n)"):rt("(",nt(n,", "),")"))+": "+i+rt(" ",nt(r," "))}),InputValueDefinition:tt(function(e){var t=e.name,n=e.type,i=e.defaultValue,r=e.directives;return nt([t+": "+n,rt("= ",i),nt(r," ")]," ")}),InterfaceTypeDefinition:tt(function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return nt(["interface",t,rt("implements ",nt(n," & ")),nt(i," "),it(r)]," ")}),UnionTypeDefinition:tt(function(e){var t=e.name,n=e.directives,i=e.types;return nt(["union",t,nt(n," "),i&&0!==i.length?"= "+nt(i," | "):""]," ")}),EnumTypeDefinition:tt(function(e){var t=e.name,n=e.directives,i=e.values;return nt(["enum",t,nt(n," "),it(i)]," ")}),EnumValueDefinition:tt(function(e){return nt([e.name,nt(e.directives," ")]," ")}),InputObjectTypeDefinition:tt(function(e){var t=e.name,n=e.directives,i=e.fields;return nt(["input",t,nt(n," "),it(i)]," ")}),DirectiveDefinition:tt(function(e){var t=e.name,n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+t+(at(n)?rt("(\n",ot(nt(n,"\n")),"\n)"):rt("(",nt(n,", "),")"))+(i?" repeatable":"")+" on "+nt(r," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return nt(["extend schema",nt(t," "),it(n)]," ")},ScalarTypeExtension:function(e){return nt(["extend scalar",e.name,nt(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return nt(["extend type",t,rt("implements ",nt(n," & ")),nt(i," "),it(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return nt(["extend interface",t,rt("implements ",nt(n," & ")),nt(i," "),it(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return nt(["extend union",t,nt(n," "),i&&0!==i.length?"= "+nt(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return nt(["extend enum",t,nt(n," "),it(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return nt(["extend input",t,nt(n," "),it(i)]," ")}};function tt(e){return function(t){return nt([t.description,e(t)],"\n")}}function nt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter(function(e){return e}).join(n))&&void 0!==t?t:""}function it(e){return rt("{\n",ot(nt(e,"\n")),"\n}")}function rt(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function ot(e){return rt("  ",e.replace(/\n/g,"\n  "))}function st(e){return-1!==e.indexOf("\n")}function at(e){return null!=e&&e.some(st)}class ct extends e{constructor(e){super(e),this.constructor=ct,Object.setPrototypeOf(this,ct.prototype)}}class lt extends ct{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=lt,Object.setPrototypeOf(this,lt.prototype)}}const ut=e=>!!e&&e instanceof lt;var dt;(dt||(dt={})).InvalidApiName="InvalidApiName",dt.InvalidApiName;const pt=async e=>{var n;if(!e)return;const i=await t(ht(e));if(i){const t=await(null==(n=e.body)?void 0:n.text());return ft(i,{statusCode:e.statusCode,headers:e.headers,body:t})}},ht=e=>{let t;const n=new Proxy(e.body,{get:(e,n,i)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(n){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,i)});return new Proxy(e,{get:(e,t,i)=>"body"===t?n:Reflect.get(e,t,i)})},ft=(e,t)=>{const n=new ct({name:null==e?void 0:e.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},mt=new n("RestApis");const yt="execute-api",vt="us-east-1",bt=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,gt=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,Et=i(a,[r,o,s]),Tt=i(a,[r,o]),Nt=async(e,t,n,i)=>{var r,o,s;const{url:a,method:l,headers:u,body:d,withCredentials:p,abortSignal:h,retryStrategy:f}=t,m=d?d instanceof FormData?d:JSON.stringify(d??""):void 0,y=((e,t)=>{const n={};for(const i in e)n[i.toLowerCase()]=e[i];return t&&(n["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete n["content-type"]),n})(u,d),v={url:a,headers:y,method:l,body:m},b={retryDecider:St(f??(null==(s=null==(o=null==(r=null==e?void 0:e.libraryOptions)?void 0:r.API)?void 0:o.REST)?void 0:s.retryStrategy)),computeDelay:c,withCrossDomainCredentials:p,abortSignal:h},g=n(v,i);let E;const T=await At(e);if(g&&T){const e=(e=>{const{service:t=yt,region:n=vt}={},{hostname:i}=e,[,r,o]=bt.exec(i)??[];return r===yt?{service:r,region:o??n}:"appsync-api"===r?{service:"appsync",region:o??n}:{service:t,region:n}})(a),t=(null==i?void 0:i.service)??e.service,n=(null==i?void 0:i.region)??e.region;E=await Et(v,{...b,credentials:T,region:n,service:t})}else E=await Tt(v,{...b});return{statusCode:E.statusCode,headers:E.headers,body:E.body}},St=e=>"no-retry"===(null==e?void 0:e.strategy)?()=>Promise.resolve({retryable:!1}):l(pt),At=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(t){mt.debug("No credentials available, the request will be unsigned.")}return null},It=new WeakMap,Ot=(e,{url:t,options:n,abortController:i})=>{const r=i??new AbortController,o=function(e,t){const n=e=>!!t,i=new AbortController,r=i.signal,o=null==t?void 0:t.signal;let s;const a=async()=>{try{const t=await(n()?e():e(r));if(t.statusCode>=300)throw await pt(t);return t}catch(t){const e=o??r,n=s??e.reason;if("AbortError"===t.name||!0===(null==e?void 0:e.aborted)){const e=new lt({...n&&{message:n},underlyingError:t,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw mt.debug(t),e}throw mt.debug(t),t}};if(n())return a();{const e=e=>{!0!==r.aborted&&(i.abort(e),e&&r.reason!==e&&(s=e))};return{response:a(),cancel:e}}}(async()=>Nt(e,{url:t,method:"POST",...n,abortSignal:r.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},gt,null==n?void 0:n.signingServiceInfo),r),s=o.finally(()=>{It.delete(s)});return s},kt=(e,t)=>{const n=It.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},wt=(e,t)=>{It.set(e,t)},_t=[400,401,403],Ct=["BadRequestException","UnauthorizedException"];var xt,Rt,Dt,Lt,Pt,Mt;(Rt=xt||(xt={})).GQL_CONNECTION_INIT="connection_init",Rt.GQL_CONNECTION_ERROR="connection_error",Rt.GQL_CONNECTION_ACK="connection_ack",Rt.GQL_START="start",Rt.GQL_START_ACK="start_ack",Rt.DATA="data",Rt.GQL_CONNECTION_KEEP_ALIVE="ka",Rt.GQL_STOP="stop",Rt.GQL_COMPLETE="complete",Rt.GQL_ERROR="error",Rt.EVENT_SUBSCRIBE="subscribe",Rt.EVENT_PUBLISH="publish",Rt.EVENT_SUBSCRIBE_ACK="subscribe_success",Rt.EVENT_PUBLISH_ACK="publish_success",Rt.EVENT_STOP="unsubscribe",Rt.EVENT_COMPLETE="unsubscribe_success",(Lt=Dt||(Dt={}))[Lt.PENDING=0]="PENDING",Lt[Lt.CONNECTED=1]="CONNECTED",Lt[Lt.FAILED=2]="FAILED",(Mt=Pt||(Pt={}))[Mt.CLOSED=0]="CLOSED",Mt[Mt.READY=1]="READY",Mt[Mt.CONNECTING=2]="CONNECTING";const Ft={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},qt=3e5;var jt,Kt,Ut,Bt;(Kt=jt||(jt={})).CONNECTION_CLOSED="Connection closed",Kt.CONNECTION_FAILED="Connection failed",Kt.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",Kt.SUBSCRIPTION_ACK="Subscription ack",Kt.TIMEOUT_DISCONNECT="Timeout disconnect",(Bt=Ut||(Ut={})).Connected="Connected",Bt.ConnectedPendingNetwork="ConnectedPendingNetwork",Bt.ConnectionDisrupted="ConnectionDisrupted",Bt.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",Bt.Connecting="Connecting",Bt.ConnectedPendingDisconnect="ConnectedPendingDisconnect",Bt.Disconnected="Disconnected",Bt.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive";const $t=()=>(new u).networkMonitor(),Gt={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class Vt{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=$t().subscribe(({online:e})=>{var t;this.record(e?Gt.ONLINE:Gt.OFFLINE),null==(t=this._initialNetworkStateSubscription)||t.unsubscribe()}),this._linkedConnectionStateObservable=new d(e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e})}enableNetworkMonitoring(){var e;null==(e=this._initialNetworkStateSubscription)||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=$t().subscribe(({online:e})=>{this.record(e?Gt.ONLINE:Gt.OFFLINE)}))}disableNetworkMonitoring(){var e;null==(e=this._networkMonitoringSubscription)||e.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let e;return this._linkedConnectionStateObservable.pipe(p(e=>this.connectionStatesTranslator(e))).pipe(h(t=>{const n=t!==e;return e=t,n}))}record(e){var t;"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();const n={...this._linkedConnectionState,...e};this._linkedConnectionState={...n},null==(t=this._linkedConnectionStateObserver)||t.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:t,intendedConnectionState:n,keepAliveState:i}){return"connected"===e&&"disconnected"===t?Ut.ConnectedPendingNetwork:"connected"===e&&"disconnected"===n?Ut.ConnectedPendingDisconnect:"disconnected"===e&&"connected"===n&&"disconnected"===t?Ut.ConnectionDisruptedPendingNetwork:"disconnected"===e&&"connected"===n?Ut.ConnectionDisrupted:"connected"===e&&"unhealthy"===i?Ut.ConnectedPendingKeepAlive:"connecting"===e?Ut.Connecting:"disconnected"===e?Ut.Disconnected:Ut.Connected}}var Wt,Ht;(Ht=Wt||(Wt={})).START_RECONNECT="START_RECONNECT",Ht.HALT_RECONNECT="HALT_RECONNECT";class Yt{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===Wt.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},6e4)},5e3)),e===Wt.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(e=>{var t;null==(t=e.complete)||t.call(e)})}_triggerReconnect(){this.reconnectObservers.forEach(e=>{var t;null==(t=e.next)||t.call(e)})}}const Qt="wss://",Jt=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,zt=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,Xt="/realtime",Zt=e=>{let t=e??"";return t=null!==t.match(zt)?t.concat(Xt).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):(e=>null===e.match(Jt))(t)?t.concat(Xt):t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma"),t=t.replace("https://",Qt).replace("http://",Qt),new m(t)},en=async e=>{const{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:i=()=>({}),additionalHeaders:r={},authToken:o}=e;let s={};const a=await i();if("function"==typeof r){const e={url:t||"",queryString:n||""};s=await r(e)}else s=r;return o&&(s={...s,Authorization:o}),{additionalCustomHeaders:s,libraryConfigHeaders:a}},tn=new n("AWSAppSyncRealTimeProvider Auth"),nn=async({host:e})=>{var t,n;const i=await y();return{Authorization:null==(n=null==(t=null==i?void 0:i.tokens)?void 0:t.accessToken)?void 0:n.toString(),host:e}},rn=async({apiKey:e,host:t})=>({host:t,"x-amz-date":(new Date).toISOString().replace(/[:-]|\.\d{3}/g,""),"x-api-key":e}),on=async({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:i})=>{const r={region:i,service:"appsync"},o=(await y()).credentials,s={url:`${n}${t}`,data:e,method:"POST",headers:{...Ft}};return v({headers:s.headers,method:s.method,url:new m(s.url),body:s.data},{credentials:o,signingRegion:r.region,signingService:r.service}).headers},sn=async({host:e,additionalCustomHeaders:t})=>{if(!(null==t?void 0:t.Authorization))throw new Error("No auth token specified");return{Authorization:t.Authorization,host:e}},an=async({apiKey:e,authenticationType:t,canonicalUri:n,appSyncGraphqlEndpoint:i,region:r,additionalCustomHeaders:o,payload:s})=>{const a={apiKey:rn,iam:on,oidc:nn,userPool:nn,lambda:sn,none:sn};if(t&&a[t]){const c=a[t],l=i?new m(i).host:void 0,u="apiKey"===t?e:void 0;tn.debug(`Authenticating with ${JSON.stringify(t)}`);return await c({payload:s,canonicalUri:n,appSyncGraphqlEndpoint:i,apiKey:u,region:r,host:l,additionalCustomHeaders:o})}tn.debug(`Authentication type ${t} not supported`)},cn=e=>{S.dispatch("api",e,"PubSub",A)};class ln{constructor(e){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=Pt.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new Vt,this.reconnectionMonitor=new Yt,this._establishConnection=async(e,t)=>{this.logger.debug(`Establishing WebSocket connection to ${e}`);try{await this._openConnection(e,t),await this._initiateHandshake()}catch(n){const{errorType:e,errorCode:t}=n;throw _t.includes(t)||Ct.includes(e)?new b(e):e?new Error(e):n}},this.logger=new n(e.providerName),this.wsProtocolName=e.wsProtocolName,this.wsConnectUri=e.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=Pt.CLOSED,this.connectionStateMonitor.record(Gt.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((e,t)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=t=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,e()},this.awsRealTimeSocket.onerror=e=>{t(e)},this.awsRealTimeSocket.close()):e()})}subscribe(e,t){return new d(n=>{if(!(null==e?void 0:e.appSyncGraphqlEndpoint))return n.error({errors:[{...new me("Subscribe only available for AWS AppSync endpoint")}]}),void n.complete();let i=!1;const r=g(),o=()=>{i||(i=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:e,observer:n,subscriptionId:r,customUserAgentDetails:t}).catch(e=>{this.logger.debug(`${jt.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${e}`),this._closeSocket()}).finally(()=>{i=!1}))},s=new d(e=>{this.reconnectionMonitor.addObserver(e)}).subscribe(()=>{o()});return o(),async()=>{await this._cleanupSubscription(r,s)}})}async connect(e){this.socketStatus!==Pt.READY&&await this._connectWebSocket(e)}async publish(e,t){if(this.socketStatus!==Pt.READY)throw new Error("Subscription has not been initialized");return this._publishMessage(e,t)}async _connectWebSocket(e){const{apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:i,region:r}=e,{additionalCustomHeaders:o}=await en(e);this.connectionStateMonitor.record(Gt.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:i,region:r,additionalCustomHeaders:o})}async _publishMessage(e,t){const n=g(),{additionalCustomHeaders:i,libraryConfigHeaders:r}=await en(e),o=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:t,additionalCustomHeaders:i,libraryConfigHeaders:r,publish:!0});return new Promise((e,t)=>{if(this.awsRealTimeSocket){const i=r=>{const o=JSON.parse(r.data);if(o.id===n&&"publish_success"===o.type&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",i),a(),e()),o.errors&&o.errors.length>0){const e=o.errors.map(e=>e.errorType);a(),t(new Error(`Publish errors: ${e.join(", ")}`))}},r=e=>{a(),t(new Error(`WebSocket error: ${e}`))},s=()=>{a(),t(new Error("WebSocket is closed"))},a=()=>{var e,t,n;null==(e=this.awsRealTimeSocket)||e.removeEventListener("message",i),null==(t=this.awsRealTimeSocket)||t.removeEventListener("error",r),null==(n=this.awsRealTimeSocket)||n.removeEventListener("close",s)};this.awsRealTimeSocket.addEventListener("message",i),this.awsRealTimeSocket.addEventListener("error",r),this.awsRealTimeSocket.addEventListener("close",s),this.awsRealTimeSocket.send(o)}else t(new Error("WebSocket is not connected"))})}async _cleanupSubscription(e,t){null==t||t.unsubscribe();try{await this._waitForSubscriptionToBeConnected(e);const{subscriptionState:t}=this.subscriptionObserverMap.get(e)||{};if(!t)return;if(t!==Dt.CONNECTED)throw new Error("Subscription never connected");this._sendUnsubscriptionMessage(e)}catch(n){this.logger.debug(`Error while unsubscribing ${n}`)}finally{this._removeSubscriptionObserver(e)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(e=>{cn({event:"ConnectionStateChange",data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===Ut.ConnectionDisrupted&&this.reconnectionMonitor.record(Wt.START_RECONNECT),[Ut.Connected,Ut.ConnectedPendingDisconnect,Ut.ConnectedPendingKeepAlive,Ut.ConnectedPendingNetwork,Ut.ConnectionDisruptedPendingNetwork,Ut.Disconnected].includes(e)&&this.reconnectionMonitor.record(Wt.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:t,subscriptionId:n,customUserAgentDetails:i}){const{query:r,variables:o}=e;this.subscriptionObserverMap.set(n,{observer:t,query:r??"",variables:o??{},subscriptionState:Dt.PENDING,startAckTimeoutId:void 0});const{additionalCustomHeaders:s,libraryConfigHeaders:a}=await en(e),c=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:i,additionalCustomHeaders:s,libraryConfigHeaders:a});try{await this._connectWebSocket(e)}catch(d){return void this._logStartSubscriptionError(n,t,d)}const{subscriptionFailedCallback:l,subscriptionReadyCallback:u}=this.subscriptionObserverMap.get(n)??{};this.subscriptionObserverMap.set(n,{observer:t,subscriptionState:Dt.PENDING,query:r??"",variables:o??{},subscriptionReadyCallback:u,subscriptionFailedCallback:l,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(n)},15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(c)}_logStartSubscriptionError(e,t,n){this.logger.debug({err:n});const i=String(n.message??"");if(this._closeSocket(),this.connectionState!==Ut.ConnectionDisruptedPendingNetwork){E(n)?t.error({errors:[{...new me(`${jt.CONNECTION_FAILED}: ${i}`)}]}):this.logger.debug(`${jt.CONNECTION_FAILED}: ${i}`);const{subscriptionFailedCallback:r}=this.subscriptionObserverMap.get(e)||{};"function"==typeof r&&r()}}async _waitForSubscriptionToBeConnected(e){const t=this.subscriptionObserverMap.get(e);if(t){const{subscriptionState:n}=t;if(n===Dt.PENDING)return new Promise((n,i)=>{const{observer:r,subscriptionState:o,variables:s,query:a}=t;this.subscriptionObserverMap.set(e,{observer:r,subscriptionState:o,variables:s,query:a,subscriptionReadyCallback:n,subscriptionFailedCallback:i})})}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===Pt.READY){const t=this._unsubscribeMessage(e),n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(t){this.logger.debug({err:t})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(Gt.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");const e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=Pt.CLOSED,this._closeSocket()}else this.socketStatus=Pt.CLOSED}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(e){const t=Date.now();t-this.keepAliveTimestamp>65e3?this.connectionStateMonitor.record(Gt.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(Gt.KEEP_ALIVE),t-this.keepAliveTimestamp>e&&this._errorDisconnect(jt.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;const[t,n]=this._handleSubscriptionData(e);if(t)return void this.maintainKeepAlive();const{type:i,id:r,payload:o}=n,{observer:s=null,query:a="",variables:c={},startAckTimeoutId:l,subscriptionReadyCallback:u,subscriptionFailedCallback:d}=this.subscriptionObserverMap.get(r)||{};if(i===xt.GQL_START_ACK||i===xt.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:a,variables:c})}`),"function"==typeof u&&u(),l&&clearTimeout(l),cn({event:jt.SUBSCRIPTION_ACK,data:{query:a,variables:c},message:"Connection established for subscription"});const e=Dt.CONNECTED;return s&&this.subscriptionObserverMap.set(r,{observer:s,query:a,variables:c,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:u,subscriptionFailedCallback:d}),void this.connectionStateMonitor.record(Gt.CONNECTION_ESTABLISHED)}if(i!==xt.GQL_CONNECTION_KEEP_ALIVE){if(i===xt.GQL_ERROR){const e=Dt.FAILED;s&&(this.subscriptionObserverMap.set(r,{observer:s,query:a,variables:c,startAckTimeoutId:l,subscriptionReadyCallback:u,subscriptionFailedCallback:d,subscriptionState:e}),this.logger.debug(`${jt.CONNECTION_FAILED}: ${JSON.stringify(o??n)}`),s.error({errors:[{...new me(`${jt.CONNECTION_FAILED}: ${JSON.stringify(o??n)}`)}]}),l&&clearTimeout(l),"function"==typeof d&&d())}}else this.maintainKeepAlive()}_errorDisconnect(e){this.logger.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=Pt.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(Gt.CLOSED)}_timeoutStartSubscriptionAck(e){const t=this.subscriptionObserverMap.get(e);if(t){const{observer:n,query:i,variables:r}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:i,variables:r,subscriptionState:Dt.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:i,variables:r}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:t,apiKey:n,region:i,additionalCustomHeaders:r}){if(this.socketStatus!==Pt.READY)return new Promise(async(o,s)=>{if(this.promiseArray.push({res:o,rej:s}),this.socketStatus===Pt.CLOSED)try{this.socketStatus=Pt.CONNECTING;const o="{}",s=await an({authenticationType:t,payload:o,canonicalUri:this.wsConnectUri,apiKey:n,appSyncGraphqlEndpoint:e,region:i,additionalCustomHeaders:r}),a=s?JSON.stringify(s):"",c=`header-${T.convert(a,{urlSafe:!0,skipPadding:!0})}`,l=(e=>{const t=(e=>{if(!e)return{};if("Authorization"in e){const{Authorization:t,...n}=e;return n}return e})(e),n=new f;return Object.entries(t).forEach(([e,t])=>{n.append(e,t)}),n})(r),u=((e,t)=>{const n=Zt(e),i=new f(n.search);for(const[r,o]of t.entries())i.append(r,o);return n.search=i.toString(),n.toString()})(e,l);await this._establishRetryableConnection(u,c),this.promiseArray.forEach(({res:e})=>{this.logger.debug("Notifying connection successful"),e()}),this.socketStatus=Pt.READY,this.promiseArray=[]}catch(a){this.logger.debug("Connection exited with",a),this.promiseArray.forEach(({rej:e})=>{e(a)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=Pt.CLOSED}})}async _establishRetryableConnection(e,t){this.logger.debug("Establishing retryable connection"),await N(this._establishConnection.bind(this),[e,t],5e3)}async _openConnection(e,t){return new Promise((n,i)=>{const r=this._getNewWebSocket(e,[this.wsProtocolName,t]);r.onerror=()=>{this.logger.debug("WebSocket connection error")},r.onclose=()=>{this._closeSocket(),i(new Error("Connection handshake error"))},r.onopen=()=>{this.awsRealTimeSocket=r,n()}})}_getNewWebSocket(e,t){return new WebSocket(e,t)}async _initiateHandshake(){return new Promise((e,t)=>{if(!this.awsRealTimeSocket)return void t(new Error("awsRealTimeSocket undefined"));let n=!1;this.awsRealTimeSocket.onerror=e=>{this.logger.debug(`WebSocket error ${JSON.stringify(e)}`)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),t(new Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=i=>{if("string"!=typeof i.data)return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${i.data} `);const r=JSON.parse(i.data),{type:o}=r,s=this._extractConnectionTimeout(r);if(o===xt.GQL_CONNECTION_ACK)return n=!0,this._registerWebsocketHandlers(s),void e("Connected to AWS AppSyncRealTime");if(o===xt.GQL_CONNECTION_ERROR){const{errorType:e,errorCode:n}=this._extractErrorCodeAndType(r);t({errorType:e,errorCode:n})}};const i={type:xt.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(i));const r=e=>{e||(this.connectionStateMonitor.record(Gt.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout(()=>{r(n)},15e3)})}_registerWebsocketHandlers(e){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(e)},5e3),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{this.logger.debug(e),this._errorDisconnect(jt.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),this._errorDisconnect(jt.CONNECTION_CLOSED)})}}const un="AWSAppSyncRealTimeProvider";class dn extends ln{constructor(){super({providerName:un,wsProtocolName:"graphql-ws",connectUri:"/connect"})}getProviderName(){return un}subscribe(e,t){return super.subscribe(e,t)}async _prepareSubscriptionPayload({options:e,subscriptionId:t,customUserAgentDetails:n,additionalCustomHeaders:i,libraryConfigHeaders:r}){const{appSyncGraphqlEndpoint:o,authenticationType:s,query:a,variables:c,apiKey:l,region:u}=e,d={query:a,variables:c},p=JSON.stringify(d),h={id:t,payload:{data:p,extensions:{authorization:{...{...await an({apiKey:l,appSyncGraphqlEndpoint:o,authenticationType:s,payload:p,canonicalUri:"",region:u,additionalCustomHeaders:i}),...r,...i,[I]:O(n)}}}},type:xt.GQL_START};return JSON.stringify(h)}_handleSubscriptionData(e){this.logger.debug(`subscription message from AWS AppSync RealTime: ${e.data}`);const{id:t="",payload:n,type:i}=JSON.parse(String(e.data)),{observer:r=null,query:o="",variables:s={}}=this.subscriptionObserverMap.get(t)||{};return this.logger.debug({id:t,observer:r,query:o,variables:s}),i===xt.DATA&&n&&n.data?(r?r.next(n):this.logger.debug(`observer not found for id: ${t}`),[!0,{id:t,type:i,payload:n}]):[!1,{id:t,type:i,payload:n}]}_unsubscribeMessage(e){return{id:e,type:xt.GQL_STOP}}_extractConnectionTimeout(e){const{payload:{connectionTimeoutMs:t=qt}={}}=e;return t}_extractErrorCodeAndType(e){const{payload:{errors:[{errorType:t="",errorCode:n=0}={}]=[]}={}}=e;return{errorCode:n,errorType:t}}}class pn extends k{constructor(e){super(e),this.constructor=pn,Object.setPrototypeOf(this,pn.prototype)}}var hn,fn;(fn=hn||(hn={})).NoAuthSession="NoAuthSession",fn.NoRegion="NoRegion",fn.NoCustomEndpoint="NoCustomEndpoint";const mn={[hn.NoAuthSession]:{message:"Auth session should not be empty."},[hn.NoRegion]:{message:"Missing region."},[hn.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}};const yn=new n("GraphQLAPI resolveConfig"),vn=e=>{var t,n;const i=e.getConfig();(null==(t=i.API)?void 0:t.GraphQL)||yn.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");const{apiKey:r,customEndpoint:o,customEndpointRegion:s,defaultAuthMode:a,endpoint:c,region:l}=(null==(n=i.API)?void 0:n.GraphQL)??{};return function(e,t){const{message:n,recoverySuggestion:i}=mn[t];if(!e)throw new pn({name:t,message:n,recoverySuggestion:i})}(!(!o&&s),hn.NoCustomEndpoint),{apiKey:r,customEndpoint:o,customEndpointRegion:s,defaultAuthMode:a,endpoint:c,region:l}},bn=e=>{var t,n,i,r,o,s;return{headers:null==(i=null==(n=null==(t=e.libraryOptions)?void 0:t.API)?void 0:n.GraphQL)?void 0:i.headers,withCredentials:null==(s=null==(o=null==(r=e.libraryOptions)?void 0:r.API)?void 0:o.GraphQL)?void 0:s.withCredentials}};function gn(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(e=>{(function(e){var t,n,i,r;if(null==(n=null==(t=null==e?void 0:e.originalError)?void 0:t.name)?void 0:n.startsWith("UnauthorizedException"))return!0;if((null==(i=e.message)?void 0:i.startsWith("Connection failed:"))&&(null==(r=e.message)?void 0:r.includes("Permission denied")))return!0;return!1})(e)&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")}),e}var En,Tn;(Tn=En||(En={})).NO_API_KEY="No api-key configured",Tn.NO_CURRENT_USER="No current user",Tn.NO_CREDENTIALS="No credentials",Tn.NO_FEDERATED_JWT="No federated jwt",Tn.NO_AUTH_TOKEN="No auth token specified";const Nn=Symbol("amplify"),Sn=Symbol("authMode"),An=Symbol("authToken"),In=Symbol("apiKey"),On=Symbol("headers"),kn=Symbol("endpoint");function wn(e){const t=e;return{amplify:t[Nn],apiKey:t[In],authMode:t[Sn],authToken:t[An],endpoint:t[kn],headers:t[On]}}const _n={name:"NoApiKey",message:En.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},Cn={name:"NoCredentials",message:En.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},xn={name:"NoValidAuthTokens",message:En.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},Rn={name:"NoSignedUser",message:En.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},Dn={name:"NoAuthorizationHeader",message:En.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},Ln={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},Pn=e=>({data:{},errors:[new me(e.message,null,null,null,null,e)]});const Mn="x-amz-user-agent";class Fn{constructor(){this.appSyncRealTime=new Map,this._api={post:Ot,cancelREST:kt,isCancelErrorREST:ut,updateRequestToBeCancellable:wt}}getModuleName(){return"InternalGraphQLAPI"}getGraphqlOperationType(e){const t=We(e).definitions,[{operation:n}]=t;return n}graphql(e,{query:t,variables:n={},authMode:i,authToken:r,endpoint:o,apiKey:s},a,c){const l=We("string"==typeof t?t:Ze(t)),[u={}]=l.definitions.filter(e=>"OperationDefinition"===e.kind),{operation:d}=u,p=a||{};switch(d){case"query":case"mutation":{const t=new AbortController;let a;if((e=>"function"!=typeof e)(e))a=this._graphql(e,{query:l,variables:n,authMode:i,apiKey:s,endpoint:o},p,t,c,r);else{a=e(async e=>await this._graphql(e,{query:l,variables:n,authMode:i,apiKey:s,endpoint:o},p,t,c,r))}return this._api.updateRequestToBeCancellable(a,t),a}case"subscription":return this._graphqlSubscribe(e,{query:l,variables:n,authMode:i,apiKey:s,endpoint:o},p,c,r);default:throw new Error(`invalid operation type: ${d}`)}}async _graphql(e,{query:t,variables:n,authMode:i,endpoint:r,apiKey:o},s={},a,c,l){const{apiKey:u,region:d,endpoint:p,customEndpoint:h,customEndpointRegion:f,defaultAuthMode:y}=vn(e),v=i||y||"iam",b="identityPool"===v?"iam":v,{headers:g,withCredentials:E}=bn(e);let T;if("function"==typeof s){const e={method:"POST",url:new m(r||h||p||"").toString(),queryString:Ze(t)};T=await s(e)}else T=s;l&&(T={...T,Authorization:l});const N=await async function(e,t,n,i={}){var r;let o={};switch(t){case"apiKey":if(!n)throw new pn(_n);o={"X-Api-Key":n};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw new pn(Cn);break;case"oidc":case"userPool":{let t;try{t=null==(r=(await e.Auth.fetchAuthSession()).tokens)?void 0:r.accessToken.toString()}catch(s){throw new pn({...Rn,underlyingError:s})}if(!t)throw new pn(xn);o={Authorization:t};break}case"lambda":if("object"==typeof i&&!i.Authorization)throw new pn(Dn);o={Authorization:i.Authorization}}return o}(e,b,o??u,T),S={...!h&&N,...h&&(f?N:{})||{},...g&&await g({query:Ze(t),variables:n}),...T,...!h&&{[Mn]:O(c)}},A={query:Ze(t),variables:n||null};let I;I=h&&!f||"oidc"!==b&&"userPool"!==b&&"iam"!==b&&"lambda"!==b?void 0:{service:f?"execute-api":"appsync",region:f||d};const k=r||h||p;if(!k)throw Pn(new pn(Ln));let w;try{const{body:t}=await this._api.post(e,{url:new m(k),options:{headers:S,body:A,signingServiceInfo:I,withCredentials:E},abortController:a});w=await t.json()}catch(_){if(this.isCancelError(_))throw _;w=Pn(_)}if(function(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}(w))throw gn(w);return w}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,t){return this._api.cancelREST(e,t)}_graphqlSubscribe(e,{query:t,variables:n,authMode:i,apiKey:r,endpoint:o},s={},a,c){const l=vn(e),u=i||(null==l?void 0:l.defaultAuthMode)||"iam",d="identityPool"===u?"iam":u,{headers:p}=bn(e),h=o??(null==l?void 0:l.endpoint),f=h??"none",m=this.appSyncRealTime.get(f)??new dn;return this.appSyncRealTime.set(f,m),m.subscribe({query:Ze(t),variables:n,appSyncGraphqlEndpoint:h,region:null==l?void 0:l.region,authenticationType:d,apiKey:r??(null==l?void 0:l.apiKey),additionalHeaders:s,authToken:c,libraryConfigHeaders:p},a).pipe(w(e=>{if(e.errors)throw gn(e);throw e}))}}function qn(e){const t=new Set;for(const n of e.attributes||[])if(jn(n))for(const e of n.properties.rules)"owner"===e.allow?t.add(e.ownerField||"owner"):"groups"===e.allow&&void 0!==e.groupsField&&t.add(e.groupsField);return Array.from(t)}function jn(e){var t,n;return!("auth"!==(null==e?void 0:e.type)||"object"!=typeof(null==e?void 0:e.properties)||!Array.isArray(null==(t=null==e?void 0:e.properties)?void 0:t.rules))&&(null==(n=null==e?void 0:e.properties)?void 0:n.rules).every(e=>!!e.allow)}function Kn(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function Un(e){let t,n;const i=new Promise((e,i)=>{t=e,n=i});return e(i).then(e=>{t(e)}).catch(e=>{n(e)}),i}const Bn=new WeakMap;function $n(e,t){return Bn.set(t,e),e.finally(()=>{Bn.delete(t)})}const Gn="HAS_ONE",Vn="HAS_MANY",Wn="BELONGS_TO",Hn={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},Yn=e=>1===e.length?e[0]:e.reduce((e,t,n)=>0===n?t:e+Kn(t),""),Qn=(e,t,n)=>{var i;if(!n)return null;const r={};for(const[o,s]of Object.entries(n)){const n=t?null==(i=e.models[t])?void 0:i.fields[o]:void 0,a={fieldDef:n,value:s};Jn(a)?r[o]=a.value.items.map(t=>Qn(e,a.fieldDef.type.model,t)):zn(n)?r[o]=Qn(e,n.type.model,s):r[o]=s}return r};function Jn(e){var t,n;return"object"==typeof(null==(t=e.fieldDef)?void 0:t.type)&&"model"in e.fieldDef.type&&"string"==typeof e.fieldDef.type.model&&e.fieldDef.isArray&&Array.isArray(null==(n=e.value)?void 0:n.items)}function zn(e){return"object"==typeof(null==e?void 0:e.type)&&"model"in e.type&&"string"==typeof e.type.model}function Xn(e,t,n,i,r,o,s=!1){const a=i.models[t],c=a.fields,l=Object.entries(c).filter(([e,t])=>{var n;return void 0!==(null==(n=null==t?void 0:t.type)?void 0:n.model)}).map(([e])=>e);return n.map(t=>{var n,u,d,p,h;if(null==t)return t;const f={};for(const m of l){const l=c[m],y=(null==l?void 0:l.type).model,v=i.models[y],b=v.primaryKeyInfo.primaryKeyFieldName,g=v.primaryKeyInfo.sortKeyFieldNames,E=null==(n=l.association)?void 0:n.connectionType;let T=[];l.association&&"associatedWith"in l.association&&(T=l.association.associatedWith);const N=[];switch(l.association&&"targetNames"in l.association&&N.push(...l.association.targetNames),E){case Wn:{const n=g.reduce((e,n)=>(t[n]&&(e[n]=t[n]),e),{});if(void 0===(null==(u=e.models[y])?void 0:u.get))break;f[m]=s?(i,s)=>t[N[0]]?e.models[y].get(i,{[b]:t[N[0]],...n},{authMode:(null==s?void 0:s.authMode)||r,authToken:(null==s?void 0:s.authToken)||o}):{data:null}:i=>t[N[0]]?e.models[y].get({[b]:t[N[0]],...n},{authMode:(null==i?void 0:i.authMode)||r,authToken:(null==i?void 0:i.authToken)||o}):{data:null};break}case Gn:case Vn:{const n=E===Gn?e=>({data:(null==e?void 0:e.data.shift())||null,errors:e.errors,extensions:e.extensions}):e=>e,i=a.primaryKeyInfo.primaryKeyFieldName,c=a.primaryKeyInfo.sortKeyFieldNames,l=v.fields[T[0]];if(l.type.model){let a=[];l.association&&"targetNames"in l.association&&(a=null==(d=l.association)?void 0:d.targetNames);const u=a.map((e,n)=>0===n?{[e]:{eq:t[i]}}:{[e]:{eq:t[c[n-1]]}});if(void 0===(null==(p=e.models[y])?void 0:p.list))break;f[m]=s?(s,a)=>t[i]?Un(async t=>{const i=$n(e.models[y].list(s,{filter:{and:u},limit:null==a?void 0:a.limit,nextToken:null==a?void 0:a.nextToken,authMode:(null==a?void 0:a.authMode)||r,authToken:(null==a?void 0:a.authToken)||o}),t);return n(await i)}):[]:s=>t[i]?Un(async t=>{const i=$n(e.models[y].list({filter:{and:u},limit:null==s?void 0:s.limit,nextToken:null==s?void 0:s.nextToken,authMode:(null==s?void 0:s.authMode)||r,authToken:(null==s?void 0:s.authToken)||o}),t);return n(await i)}):[];break}const u=T.map((e,n)=>0===n?{[e]:{eq:t[i]}}:{[e]:{eq:t[c[n-1]]}});if(void 0===(null==(h=e.models[y])?void 0:h.list))break;f[m]=s?(s,a)=>t[i]?Un(async t=>{const i=$n(e.models[y].list(s,{filter:{and:u},limit:null==a?void 0:a.limit,nextToken:null==a?void 0:a.nextToken,authMode:(null==a?void 0:a.authMode)||r,authToken:(null==a?void 0:a.authToken)||o}),t);return n(await i)}):[]:s=>t[i]?Un(async t=>{const i=$n(e.models[y].list({filter:{and:u},limit:null==s?void 0:s.limit,nextToken:null==s?void 0:s.nextToken,authMode:(null==s?void 0:s.authMode)||r,authToken:(null==s?void 0:s.authToken)||o}),t);return n(await i)}):[];break}}}return{...t,...f}})}const Zn={CREATE:{operationPrefix:"create",usePlural:!1},GET:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVEQUERY:{operationPrefix:"observeQuery",usePlural:!1}},ei=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:e,name:n})=>"string"==typeof e.enum?[n,ni]:"string"==typeof e.nonModel?[n,ei(t.nonModels[e.nonModel],t)]:"string"==typeof e?[n,ni]:void 0).filter(e=>void 0!==e);return Object.fromEntries(i)},ti=(e,t)=>{const{fields:n}=e,i=Object.values(n).map(({type:e,name:n})=>"string"==typeof e.enum||"string"==typeof e?[n,ni]:"string"==typeof e.nonModel?[n,ei(t.nonModels[e.nonModel],t)]:void 0).filter(e=>void 0!==e),r=qn(e).map(e=>[e,ni]);return Object.fromEntries(i.concat(r))};const ni="";function ii(e,t,n){const i=(t,n)=>{var r,o,s,a,c,l;const[u,...d]=t.split("."),p=d[0],h=e.models[n]??e.nonModels[n],f=null==h?void 0:h.fields,m=null==(o=null==(r=null==f?void 0:f[u])?void 0:r.type)?void 0:o.model,y=e.models[m],v=null==(a=null==(s=null==f?void 0:f[u])?void 0:s.type)?void 0:a.nonModel,b=e.nonModels[v],g=y?"model":b?"nonModel":"field";if("nonModel"===g){let t={};if(!p)throw Error(`${u} must declare a wildcard (*) or a field of custom type ${v}`);return t="*"===p?{[u]:ei(b,e)}:{[u]:i(d.join("."),v)},t}if("model"===g){let t={};if(!p)throw Error(`${u} must declare a wildcard (*) or a field of model ${m}`);if("*"===p){const n=e.models[m];t={[u]:ti(n,e)}}else t={[u]:i(d.join("."),m)};return(null==(c=f[u])?void 0:c.isArray)&&(t={[u]:{items:t[u]}}),t}{const t=null==f?void 0:f[u],i=e.nonModels[n],r=null==(l=null==i?void 0:i.fields)?void 0:l[u];if(i){if(!r)throw Error(`${u} is not a field of custom type ${n}`)}else{const e=qn(h).includes(u);if(!t&&!e)throw Error(`${u} is not a field of model ${n}`)}return{[u]:ni}}};return n.reduce((e,n)=>oi(i(n,t),e),{})}function ri(e){const t=[];return Object.entries(e).forEach(([e,n])=>{n===ni?t.push(e):"object"==typeof n&&null!==n&&((null==n?void 0:n.items)?t.push(e,"{","items","{",ri(n.items),"}","}"):t.push(e,"{",ri(n),"}"))}),t.join(" ")}function oi(e,t){const n=e=>e&&"object"==typeof e;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)&&n(t[i])?oi(e[i],t[i]):t[i]=e[i]);return t}function si(e,t,n){const i=e.models[t],r=ii(e,t,n??function(e){const{fields:t}=e,n=Object.values(t).map(({type:e,name:t})=>{if("string"==typeof e)return t;if("object"==typeof e){if("string"==typeof(null==e?void 0:e.enum))return t;if("string"==typeof(null==e?void 0:e.nonModel))return`${t}.*`}}).filter(Boolean),i=qn(e);return Array.from(new Set(n.concat(i)))}(i));return ri(r)}function ai(e,t,n,i,r){var o,s;const{name:a,pluralName:c,fields:l,primaryKeyInfo:{isCustomPrimaryKey:u,primaryKeyFieldName:d,sortKeyFieldNames:p},attributes:h}=t,f=a.charAt(0).toUpperCase()+a.slice(1),m=c.charAt(0).toUpperCase()+c.slice(1),{operationPrefix:y,usePlural:v}=Zn[n],{selectionSet:b}=i||{};let g,E,T,N,S;if(y)g=`${y}${v?m:f}`;else{if(!r)throw new Error("Error generating GraphQL Document - invalid operation name");{const{queryField:e,pk:t,sk:n=[]}=r;g=e;let i={};if(1===n.length){const[e]=n,t="string"==typeof l[e].type?l[e].type:"String",r=Hn[t];i={[e]:`Model${r}KeyConditionInput`}}else if(n.length>1){const t=Yn(n),r=null==(s=null==(o=null==h?void 0:h.find(t=>{var n;return(null==(n=null==t?void 0:t.properties)?void 0:n.queryField)===e}))?void 0:o.properties)?void 0:s.name;i={[t]:`Model${Kn(a)}${Kn(r)}CompositeKeyConditionInput`}}E={[t]:`${Object.prototype.hasOwnProperty.call(l[t].type,"enum")?l[t].type.enum:l[t].type}!`,...i}}}const A=si(e,a,b),I={[d]:`${l[d].type}!`},O={},k=e=>{if(0===p.length)return{};if("get"===e)return p.reduce((t,n)=>{const i=l[n].type;return"get"===e&&(t[n]=`${i}!`),t},{});if(1===p.length){const[e]=p,t="string"==typeof l[e].type?l[e].type:"String",n=Hn[t];return{[e]:`Model${n}KeyConditionInput`}}{const e=Yn(p);return{[e]:`Model${Kn(a)}PrimaryCompositeKeyConditionInput`}}};switch(u&&(Object.assign(I,k("get")),Object.assign(O,{[d]:`${l[d].type}`,sortDirection:"ModelSortDirection"},k("list"))),n){case"CREATE":case"UPDATE":case"DELETE":S??(S={input:`${y.charAt(0).toLocaleUpperCase()+y.slice(1)}${f}Input!`}),T??(T="mutation");case"GET":S??(S=I),N??(N=A);case"LIST":S??(S={...O,filter:`Model${f}FilterInput`,limit:"Int",nextToken:"String"}),T??(T="query"),N??(N=`items { ${A} } nextToken __typename`);case"INDEX_QUERY":S??(S={...E,filter:`Model${f}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),T??(T="query"),N??(N=`items { ${A} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":S??(S={filter:`ModelSubscription${f}FilterInput`}),T??(T="subscription"),N??(N=A);break;default:throw new Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${T}${S?`(${Object.entries(S).map(([e,t])=>`$${e}: ${t}`)})`:""} { ${g}${S?`(${Object.keys(S).map(e=>`${e}: $${e}`)})`:""} { ${N} } }`}function ci(e,t,n,i,r){const{fields:o,primaryKeyInfo:{isCustomPrimaryKey:s,primaryKeyFieldName:a,sortKeyFieldNames:c}}=e,l=(null==c?void 0:c.length)&&Yn(c);let u={};switch(t){case"CREATE":u={input:n?li(n,e,i):{}};break;case"UPDATE":u={input:n?Object.fromEntries(Object.entries(li(n,e,i)).filter(([t])=>o[t]?!o[t].isReadOnly:!qn(e).includes(t))):{}};break;case"GET":case"DELETE":n&&(u=s?[a,...c].reduce((e,t)=>(e[t]=n[t],e),{}):{[a]:n[a]}),"DELETE"===t&&(u={input:u});break;case"LIST":(null==n?void 0:n.filter)&&(u.filter=n.filter),(null==n?void 0:n.sortDirection)&&(u.sortDirection=n.sortDirection),n&&n[a]&&(u[a]=n[a]),l&&n&&n[l]&&(u[l]=n[l]),(null==n?void 0:n.nextToken)&&(u.nextToken=n.nextToken),(null==n?void 0:n.limit)&&(u.limit=n.limit);break;case"INDEX_QUERY":{const{pk:e,sk:t=[]}=r,i=(null==t?void 0:t.length)&&Yn(t);u[e]=n[e],i&&n&&n[i]&&(u[i]=n[i]),(null==n?void 0:n.filter)&&(u.filter=n.filter),(null==n?void 0:n.sortDirection)&&(u.sortDirection=n.sortDirection),(null==n?void 0:n.nextToken)&&(u.nextToken=n.nextToken),(null==n?void 0:n.limit)&&(u.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":(null==n?void 0:n.filter)&&(u={filter:n.filter});break;case"OBSERVEQUERY":throw new Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw new Error(`Unhandled operation case: ${t}`)}return u}function li(e,t,n){const{fields:i}=t,r={};return Object.entries(e).forEach(([e,t])=>{var o,s;const a=null==(o=i[e])?void 0:o.type,c=null==a?void 0:a.model;if(c){const o=null==(s=i[e])?void 0:s.association,a=n.models[c].primaryKeyInfo;if((null==o?void 0:o.connectionType)===Gn){const e=o;e.targetNames.forEach((n,i)=>{const o=e.associatedWith[i];r[n]=t[o]})}if((null==o?void 0:o.connectionType)===Wn){o.targetNames.forEach((e,n)=>{if(0===n){const n=a.primaryKeyFieldName;r[e]=t[n]}else{const i=a.sortKeyFieldNames[n-1];r[e]=t[i]}})}}else r[e]=t}),r}function ui(e,t,n={}){const i=t(e);return{authMode:n.authMode||i.authMode,authToken:n.authToken||i.authToken}}function di(e,t,n){let i=t(e).headers||{};return n&&(i=n),i}function pi(e){if(null==e?void 0:e.errors)return{...e,data:[]};throw e}function hi(e){if(e.errors)return{...e,data:null};throw e}const fi=Symbol("INTERNAL_USER_AGENT_OVERRIDE");var mi,yi;(yi=mi||(mi={})).CreateConversation="1",yi.GetConversation="2",yi.ListConversations="3",yi.DeleteConversation="4",yi.SendMessage="5",yi.ListMessages="6",yi.OnStreamEvent="7",yi.Generation="8",yi.UpdateConversation="9";const vi=e=>({category:"ai",action:e});function bi(e){return e?{[fi]:e}:void 0}function gi(e,t,n,i,r,o,s){const a=void 0!==i.arguments;return(...c)=>{const l=c[c.length-1];let u,d;if(r){if(!(e=>{var t;return"symbol"==typeof(null==(t=null==e?void 0:e.token)?void 0:t.value)})(c[0]))throw new Error(`Invalid first argument passed to ${i.name}. Expected contextSpec`);u=c[0]}return a&&(d=r?c[1]:c[0]),"subscription"===n?function(e,t,n,i,r,o,s){const a="subscription",{name:c}=n,l=ui(e,i,o),u=di(e,i,null==o?void 0:o.headers),d=Ni(n),h=Si(n),f=Ai(t,n),m=Ei(n.type,"model")?n.type.model:void 0,y=`\n    ${a.toLocaleLowerCase()}${d} {\n      ${c}${h} ${f}\n    }\n  `,v=Ii(n,r),b=bi(s),g=e.graphql({...l,query:y,variables:v,...b},u);return g.pipe(p(n=>{const[i]=Object.keys(n.data),r=n.data[i],[o]=m?Xn(e,m,[r],t,l.authMode,l.authToken):[r];return o}))}(e,t,i,o,d,l,s):function(e,t,n,i,r,o,s,a,c){return Un(async l=>{const{name:u}=i,d=ui(e,r,s),p=di(e,r,null==s?void 0:s.headers),h=Ni(i),f=Si(i),m=Ai(t,i),y=Ei(i.type,"model")?i.type.model:void 0,v=`\n    ${n.toLocaleLowerCase()}${h} {\n      ${u}${f} ${m}\n    }\n  `,b=Ii(i,o),g=bi(c);try{const n=$n(a?e.graphql(a,{...d,query:v,variables:b},p):e.graphql({...d,query:v,variables:b,...g},p),l),{data:i,extensions:r}=await n;if(i){const[n]=Object.keys(i),o=Array.isArray(i[n]),s=o?i[n].filter(e=>e):i[n],c=y?Xn(e,y,o?s:[s],t,d.authMode,d.authToken,!!a):s;return{data:!o&&Array.isArray(c)?c.shift():c,extensions:r}}return{data:null,extensions:r}}catch(E){const{data:n,errors:i}=E;if(n&&0!==Object.keys(n).length&&i){const[r]=Object.keys(n),o=Array.isArray(n[r]),s=o?n[r].filter(e=>e):n[r];if(s){const n=y?Xn(e,y,o?s:[s],t,d.authMode,d.authToken,!!a):s;return{data:!o&&Array.isArray(n)?n.shift():n,errors:i}}return hi(E)}return hi(E)}})}(e,t,n,i,o,d,l,u,s)}}function Ei(e,t){return"string"==typeof e[t]}function Ti({type:e,isRequired:t}){const n=t?"!":"";return function(e){return e instanceof Object&&"enum"in e}(e)?`${e.enum}${n}`:function(e){return e instanceof Object&&"input"in e}(e)?`${e.input}${n}`:`${e}${n}`}function Ni(e){if(void 0===e.arguments)return"";const t=Object.entries(e.arguments).map(([e,t])=>{const n=Ti(t);return`$${e}: ${t.isArray?`[${n}]${t.isArrayNullable?"":"!"}`:n}`}).join(", ");return t.length>0?`(${t})`:""}function Si(e){if(void 0===e.arguments)return"";const t=Object.keys(e.arguments).map(e=>`${e}: $${e}`).join(", ");return t.length>0?`(${t})`:""}function Ai(e,t){if(Ei(t,"type")||Ei(t.type,"enum"))return"";if(Ei(t.type,"nonModel")){const n=e.nonModels[t.type.nonModel];return`{${ri(ei(n,e))}}`}return Ei(t.type,"model")?`{${si(e,t.type.model)}}`:""}function Ii(e,t={}){const n={};if(void 0===e.arguments)return n;for(const i of Object.values(e.arguments))if(void 0!==t[i.name])n[i.name]=t[i.name];else if(i.isRequired)throw new Error(`${e.name} requires arguments '${i.name}'`);return n}const Oi={queries:"query",mutations:"mutation",subscriptions:"subscription"};function ki(e,t,n,i){if(!t)return{};const r=t.modelIntrospection;if(!r)return{};const o=r[n];if(!o)return{};const s={},a=null===i(e).amplify;for(const c of Object.values(o))s[c.name]=gi(e,r,Oi[n],c,a,i);return s}function wi(e,t,n,i,r,o=!1,s){return o?(o,a,c)=>_i(e,t,n,a,c,i,r,o,s):(o,a)=>_i(e,t,n,o,a,i,r,void 0,s)}function _i(e,t,n,i,r,o,s,a,c){return Un(async l=>{const{name:u}=n,d=ai(t,n,o,r),p=ci(n,o,i,t),h=ui(e,s,r),f=di(e,s,null==r?void 0:r.headers),m=bi(c);try{const n=$n(a?e.graphql(a,{...h,query:d,variables:p},f):e.graphql({...h,query:d,variables:p,...m},f),l),{data:i,extensions:o}=await n;if(i){const[n]=Object.keys(i),s=Qn(t,u,i[n]);if(null===s)return{data:null,extensions:o};if(null==r?void 0:r.selectionSet)return{data:s,extensions:o};{const[n]=Xn(e,u,[s],t,h.authMode,h.authToken,!!a);return{data:n,extensions:o}}}return{data:null,extensions:o}}catch(y){const{data:n,errors:i}=y;if(n&&0!==Object.keys(n).length&&i){const[o]=Object.keys(n),s=Qn(t,u,n[o]);if(s){if(null==r?void 0:r.selectionSet)return{data:s,errors:i};{const[n]=Xn(e,u,[s],t,h.authMode,h.authToken,!!a);return{data:n,errors:i}}}return hi(y)}return hi(y)}})}function Ci(e,t,n,i,r=!1,o){return r?(r,s)=>xi(e,t,n,i,s,r,o):r=>xi(e,t,n,i,r,void 0,o)}function xi(e,t,n,i,r,o,s){return Un(async a=>{var c,l,u,d;const{name:p}=n,h=ai(t,n,"LIST",r),f=ci(n,"LIST",r,t),m=ui(e,i,r),y=di(e,i,null==r?void 0:r.headers),v=bi(s);try{const n=$n(o?e.graphql(o,{...m,query:h,variables:f},y):e.graphql({...m,query:h,variables:f,...v},y),a),{data:i,extensions:s}=await n;if(void 0!==i){const[n]=Object.keys(i);if(i[n].items){const a=i[n].items.map(e=>Qn(t,p,e));if(null==r?void 0:r.selectionSet)return{data:a,nextToken:i[n].nextToken,extensions:s};return{data:Xn(e,p,a,t,m.authMode,m.authToken,!!o),nextToken:i[n].nextToken,extensions:s}}return{data:i[n],nextToken:i[n].nextToken,extensions:s}}}catch(b){const{data:n,errors:i}=b;if(null!=n&&0!==Object.keys(n).length&&i){const[s]=Object.keys(n);if(null==(c=n[s])?void 0:c.items){const a=n[s].items.map(e=>Qn(t,p,e));if(a){if(null==r?void 0:r.selectionSet)return{data:a,nextToken:null==(l=n[s])?void 0:l.nextToken,errors:i};return{data:Xn(e,p,a,t,m.authMode,m.authToken,!!o),nextToken:null==(u=n[s])?void 0:u.nextToken,errors:i}}return{data:n[s],nextToken:null==(d=n[s])?void 0:d.nextToken,errors:i}}return pi(b)}return pi(b)}})}const Ri={},Di=new Array(64);for(let Cr=0,xr="A".charCodeAt(0),Rr="Z".charCodeAt(0);Cr+xr<=Rr;Cr++){const e=String.fromCharCode(Cr+xr);Ri[e]=Cr,Di[Cr]=e}for(let Cr=0,xr="a".charCodeAt(0),Rr="z".charCodeAt(0);Cr+xr<=Rr;Cr++){const e=String.fromCharCode(Cr+xr),t=Cr+26;Ri[e]=t,Di[t]=e}for(let Cr=0;Cr<10;Cr++){Ri[Cr.toString(10)]=Cr+52;const e=Cr.toString(10),t=Cr+52;Ri[e]=t,Di[t]=e}Ri["+"]=62,Di[62]="+",Ri["/"]=63,Di[63]="/";const Li=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),i=new DataView(n);for(let r=0;r<e.length;r+=4){let t=0,n=0;for(let i=r,a=r+3;i<=a;i++)if("="!==e[i]){if(!(e[i]in Ri))throw new TypeError(`Invalid character ${e[i]} in base64 string.`);t|=Ri[e[i]]<<6*(a-i),n+=6}else t>>=6;const o=r/4*3;t>>=n%8;const s=Math.floor(n/8);for(let e=0;e<s;e++){const n=8*(s-e-1);i.setUint8(o+e,(t&255<<n)>>n)}}return new Uint8Array(n)};function Pi(e){let t;t="string"==typeof e?(e=>(new TextEncoder).encode(e))(e):e;const n="object"==typeof t&&"number"==typeof t.length,i="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!n&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let o=0;o<t.length;o+=3){let e=0,n=0;for(let r=o,s=Math.min(o+3,t.length);r<s;r++)e|=t[r]<<8*(s-r-1),n+=8;const i=Math.ceil(n/6);e<<=6*i-n;for(let t=1;t<=i;t++){const n=6*(i-t);r+=Di[(e&63<<n)>>n]}r+="==".slice(0,4-i)}return r}const Mi=e=>e.map(e=>e.image?Fi(e):e.document?qi(e):e.toolUse?ji(e):e.toolResult?Ki(e):Ui(e)),Fi=({image:e})=>({image:{...e,source:{...e.source,bytes:Li(e.source.bytes)}}}),qi=({document:e})=>({document:{...e,source:{...e.source,bytes:Li(e.source.bytes)}}}),ji=({toolUse:e})=>({toolUse:{...e,input:JSON.parse(e.input)}}),Ki=({toolResult:e})=>({toolResult:{toolUseId:e.toolUseId,content:e.content.map(e=>e.image?Fi(e):e.json?(({json:e})=>({json:JSON.parse(e)}))(e):Ui(e))}}),Ui=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>null!==t)),Bi=({content:e,createdAt:t,id:n,conversationId:i,role:r})=>({content:Mi(e??[]),conversationId:i,createdAt:t,id:n,role:r}),$i=(e,t,n,i,r)=>async o=>{const s=Ci(e,t,i,r,!1,vi(mi.ListMessages)),{data:a,nextToken:c,errors:l}=await s({...o,filter:{conversationId:{eq:n}}});return{data:a.map(e=>Bi(e)),nextToken:c,errors:l}},Gi=e=>{if(e){return{...e,input:JSON.parse(e.input)}}},Vi=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>null!==t)),Wi=(e,t,n,i,r)=>o=>{const{conversations:s}=t;if(!s)return{};const a=s[i].message.subscribe;return gi(e,t,"subscription",a,!1,r,vi(mi.OnStreamEvent))({conversationId:n}).subscribe(e=>{const{next:t,error:n}=(({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:r,contentBlockDeltaIndex:o,contentBlockText:s,contentBlockToolUse:a,stopReason:c,errors:l})=>{if(l)return{error:{id:e,conversationId:t,associatedUserMessageId:n,errors:l}};return{next:Vi({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:r,contentBlockDeltaIndex:o,text:s,toolUse:Gi(a),stopReason:c})}})(e);n&&o.error(n),t&&o.next(t)})},Hi=e=>JSON.stringify(e),Yi=e=>e.map(e=>e.image?Ji(e):e.document?zi(e):e.toolResult?Xi(e):e),Qi=({tools:e})=>({tools:Object.entries(e).map(([e,t])=>({toolSpec:{name:e,description:t.description,inputSchema:{json:JSON.stringify(t.inputSchema.json)}}}))}),Ji=({image:e})=>({image:{...e,source:{...e.source,bytes:Pi(e.source.bytes)}}}),zi=({document:e})=>({document:{...e,source:{...e.source,bytes:Pi(e.source.bytes)}}}),Xi=({toolResult:e})=>({toolResult:{...e,content:e.content.map(e=>e.image?Ji(e):e.json?(({json:e})=>({json:JSON.stringify(e)}))(e):e)}}),Zi=(e,t,n,i,r)=>async o=>{const{conversations:s}=t;if(!s)return{};const a="string"==typeof o?{content:[{text:o}]}:o,{content:c,aiContext:l,toolConfiguration:u}=a,d=s[i].message.send,p=gi(e,t,"mutation",d,!1,r,vi(mi.SendMessage)),{data:h,errors:f}=await p({conversationId:n,content:Yi(c),...l&&{aiContext:Hi(l)},...u&&{toolConfiguration:Qi(u)}});return{data:h?Bi(h):h,errors:f}},er=(e,t,n,i,r,o,s,a,c,l)=>{if(!n)throw new Error(`An error occurred converting a ${o} conversation: Missing ID`);return{id:n,createdAt:i,updatedAt:r,metadata:c,name:l,onStreamEvent:Wi(e,t,n,o,a),sendMessage:Zi(e,t,n,o,a),listMessages:$i(e,t,n,s,a)}},tr=(e,t,n,i,r,o)=>async s=>{const{name:a,metadata:c}=s??{},l=JSON.stringify(c),u=wi(e,t,i,"CREATE",o,!1,vi(mi.CreateConversation)),{data:d,errors:p}=await u({name:a,metadata:l});return{data:er(e,t,null==d?void 0:d.id,null==d?void 0:d.createdAt,null==d?void 0:d.updatedAt,n,r,o,null==d?void 0:d.metadata,null==d?void 0:d.name),errors:p}},nr=(e,t,n,i,r,o)=>async({id:s})=>{const a=wi(e,t,i,"GET",o,!1,vi(mi.GetConversation)),{data:c,errors:l}=await a({id:s});return{data:c?er(e,t,c.id,c.createdAt,c.updatedAt,n,r,o,null==c?void 0:c.metadata,null==c?void 0:c.name):c,errors:l}},ir=(e,t,n,i,r,o)=>async s=>{const a=Ci(e,t,i,o,!1,vi(mi.ListConversations)),{data:c,nextToken:l,errors:u}=await a(s);return{data:c.map(i=>er(e,t,i.id,i.createdAt,i.updatedAt,n,r,o,null==i?void 0:i.metadata,null==i?void 0:i.name)),nextToken:l,errors:u}},rr=(e,t,n,i,r,o)=>async({id:s})=>{const a=wi(e,t,i,"DELETE",o,!1,vi(mi.DeleteConversation)),{data:c,errors:l}=await a({id:s});return{data:c?er(e,t,null==c?void 0:c.id,null==c?void 0:c.createdAt,null==c?void 0:c.updatedAt,n,r,o,null==c?void 0:c.metadata,null==c?void 0:c.name):c,errors:l}},or=(e,t,n,i,r,o)=>async({id:s,metadata:a,name:c})=>{const l=JSON.stringify(a),u=wi(e,t,i,"UPDATE",o,!1,vi(mi.UpdateConversation)),{data:d,errors:p}=await u({id:s,metadata:l,name:c});return{data:d?er(e,t,null==d?void 0:d.id,null==d?void 0:d.createdAt,null==d?void 0:d.updatedAt,n,r,o,null==d?void 0:d.metadata,null==d?void 0:d.name):d,errors:p}};function sr(e,t,n,i,r,o=!1){return o?(o,s,a)=>ar(e,t,n,i,r,{...s,...a},o):(o,s)=>ar(e,t,n,i,r,{...o,...s})}function ar(e,t,n,i,r,o,s){return Un(async a=>{var c,l,u,d;const{name:p}=n,h=ai(t,n,"INDEX_QUERY",o,i),f=ci(n,"INDEX_QUERY",o,t,i),m=ui(e,r,o),y=n=>Xn(e,p,n,t,m.authMode,m.authToken,!!s);try{const n=di(e,r,null==o?void 0:o.headers),i=[{...m,query:h,variables:f},n];void 0!==s&&i.unshift(s);const c=$n(e.graphql(...i),a),l=await c;if(void 0!==l.data)return function(e,t,n,i,r){const{data:o,extensions:s}=n,[a]=Object.keys(o);if(o[a].items){const n=o[a].items.map(n=>Qn(e,t,n));return{data:i?n:r(n),nextToken:o[a].nextToken,extensions:s}}return{data:o[a],nextToken:o[a].nextToken,extensions:s}}(t,p,l,null==o?void 0:o.selectionSet,y)}catch(v){const{data:e,errors:n}=v;if(null!=e&&0!==Object.keys(e).length&&n){const[n]=Object.keys(e);if(null==(c=e[n])?void 0:c.items){const i=null==(l=e[n])?void 0:l.items.map(e=>Qn(t,p,e));if(i)return{data:(null==o?void 0:o.selectionSet)?i:y(i),nextToken:null==(u=e[n])?void 0:u.nextToken}}return{data:e[n],nextToken:null==(d=e[n])?void 0:d.nextToken}}return pi(v)}})}function cr(e,t,n,i,r){const{name:o}=n;return s=>{const a=ai(t,n,i,s),c=ci(n,i,s,t),l=ui(e,r,s),u=di(e,r,null==s?void 0:s.headers);return e.graphql({...l,query:a,variables:c},u).pipe(p(n=>{const[i]=Object.keys(n.data),r=n.data[i],a=Qn(t,o,r);if(null===a)return null;if(null==s?void 0:s.selectionSet)return a;{const[n]=Xn(e,o,[a],t,l.authMode,l.authToken);return n}}))}}function lr(e,t,n){const i=Object.fromEntries(n.map(t=>[t,e[t]]));for(let r=0;r<t.length;r++)if(Object.keys(i).every(e=>i[e]===t[r][e]))return r;return-1}function ur(e,t){const{name:n}=t;return i=>new d(r=>{const o=[],s=[];let a=(...e)=>s.push(...e);const c=e[n].onCreate(i).subscribe({next(e){a({item:e,type:"create"})},error(e){r.error({type:"onCreate",error:e})}}),l=e[n].onUpdate(i).subscribe({next(e){a({item:e,type:"update"})},error(e){r.error({type:"onUpdate",error:e})}}),u=e[n].onDelete(i).subscribe({next(e){a({item:e,type:"delete"})},error(e){r.error({type:"onDelete",error:e})}});function d(e){for(const t of e){const e=lr(t.item,o,p);switch(t.type){case"create":e<0&&o.push(t.item);break;case"update":e>=0&&(o[e]=t.item);break;case"delete":e>=0&&o.splice(e,1)}}r.next({items:o,isSynced:!0})}const p=function(e){const{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(async()=>{let t=!0,c=null;for(;!r.closed&&(t||c);){t=!1;const{data:a,errors:l,nextToken:u}=await e[n].list({...i,nextToken:c});c=u,o.push(...a);const d=0===s.length&&null==c;if(r.next({items:o,isSynced:d}),Array.isArray(l))for(const e of l)r.error(e)}s.length>0&&d(s),a=(...e)=>(d(e),o.length)})(),()=>{c.unsubscribe(),l.unsubscribe(),u.unsubscribe()}})}const dr=e=>{var t,n,i;return"key"===e.type&&(null==(t=e.properties)?void 0:t.name)&&(null==(n=e.properties)?void 0:n.queryField)&&(null==(i=e.properties)?void 0:i.fields.length)>0},pr=e=>{var t;return(null==(t=e.attributes)?void 0:t.filter(dr).map(e=>{const t=e.properties.queryField,[n,...i]=e.properties.fields;return{queryField:t,pk:n,sk:i}}))||[]},hr=(e,t)=>{var n;const i=null==(n=e.models[t].attributes)?void 0:n.find(e=>"model"===e.type),r={queries:["list","get","observeQuery"],mutations:["create","update","delete"],subscriptions:["onCreate","onUpdate","onDelete"]},o=[];if(!i)return Zn;if(i.properties)for(const[a,c]of Object.entries(i.properties))a in r&&(null===c?o.push(...r[a]):c instanceof Object&&o.push(...Object.keys(c)));o.includes("list")&&o.push("observeQuery");const s=o.map(e=>e.toUpperCase());return Object.fromEntries(Object.entries(Zn).filter(([e])=>!s.includes(e)))};function fr(e,t,n){return function(e){const t=e.cancel.bind(e);e.cancel=function(e,n){const i=new Set;let r=e;for(;r&&Bn.has(r);){if(i.has(r))throw new Error("A cycle was detected in the modeled graphql cancellation chain. This is a bug. Please report it!");i.add(r),r=Bn.get(r)}return t(r,n)}}(e),e.models=function(e,t,n){const i={},r=t.modelIntrospection;if(!r)return{};const o=["ONCREATE","ONUPDATE","ONDELETE"];for(const s of Object.values(r.models)){const{name:t}=s;i[t]={};const a=hr(r,t);Object.entries(a).forEach(([a,{operationPrefix:c}])=>{const l=a;"LIST"===l?i[t][c]=Ci(e,r,s,n):o.includes(l)?i[t][c]=cr(e,r,s,l,n):i[t][c]="OBSERVEQUERY"===l?ur(i,s):wi(e,r,s,l,n)});const c=pr(s);for(const o of c)i[t][o.queryField]=sr(e,r,s,o,n)}return i}(e,t,n),e.enums=(e=>{const t=e.modelIntrospection;if(!t)return{};const n={};for(const[i,r]of Object.entries(t.enums))n[r.name]={values:()=>r.values};return n})(t),e.queries=function(e,t,n){return ki(e,t,"queries",n)}(e,t,n),e.mutations=function(e,t,n){return ki(e,t,"mutations",n)}(e,t,n),e.subscriptions=function(e,t,n){return ki(e,t,"subscriptions",n)}(e,t,n),e.conversations=function(e,t,n){const i=null==t?void 0:t.modelIntrospection;if(!(null==i?void 0:i.conversations))return{};const r={};for(const{name:o,conversation:s,message:a,models:c,nonModels:l,enums:u}of Object.values(i.conversations)){const t=c[s.modelName],d=c[a.modelName];if(!t||!d)return{};const p={...i,models:{...i.models,...c},nonModels:{...i.nonModels,...l},enums:{...i.enums,...u}};r[o]={update:or(e,p,o,t,d,n),create:tr(e,p,o,t,d,n),get:nr(e,p,o,t,d,n),delete:rr(e,p,o,t,d,n),list:ir(e,p,o,t,d,n)}}return r}(e,t,n),e.generations=function(e,t,n){const i=null==t?void 0:t.modelIntrospection;if(!(null==i?void 0:i.generations))return{};const r={};for(const o of Object.values(i.generations))r[o.name]=gi(e,i,"query",o,!1,n,vi(mi.Generation));return r}(e,t,n),e}const mr=new class extends Fn{getModuleName(){return"GraphQLAPI"}graphql(e,t,n){const i={category:C.API,action:_.GraphQl};if(function(e){return fi in e}(t)){const{[fi]:r,...o}=t;return super.graphql(e,o,n,{...i,...r})}return super.graphql(e,t,n,{...i})}isCancelError(e){return super.isCancelError(e)}cancel(e,t){return super.cancel(e,t)}};function yr(e,t){const n=wn(this),i=n.endpoint,r=n.authMode,o=n.apiKey;if(e.authMode=e.authMode||r,e.apiKey=e.apiKey??o,e.authToken=e.authToken||n.authToken,i&&"apiKey"===e.authMode&&!e.apiKey)throw new Error("graphql() requires an explicit `apiKey` for a custom `endpoint` when `authMode = 'apiKey'`.");const s=t||n.headers;return mr.graphql(n.amplify,{...e,endpoint:i},s)}function vr(e,t){return mr.cancel(e,t)}function br(e){return mr.isCancelError(e)}function gr(e){return void 0!==e}const Er=e=>{S.listen("core",t=>{var n;if("configure"!==t.payload.event)return;const i=null==(n=t.payload.data.API)?void 0:n.GraphQL;gr(i)&&fr(e,i,wn)})},Tr=new Proxy({},{get(){throw new Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});const Nr=({user:e,signOut:t})=>{var n;return R.jsx("nav",{className:"bg-blue-600 text-white shadow-lg",children:R.jsx("div",{className:"container mx-auto px-4",children:R.jsxs("div",{className:"flex items-center justify-between h-16",children:[R.jsxs(F,{to:"/",className:"flex items-center space-x-2",children:[R.jsx(G,{className:"h-8 w-8"}),R.jsx("span",{className:"text-xl font-bold",children:"WorkoutTracker"})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("span",{children:["Welcome, ",(null==(n=null==e?void 0:e.signInDetails)?void 0:n.loginId)||(null==e?void 0:e.username)]}),R.jsxs("button",{onClick:t,className:"flex items-center space-x-1 bg-blue-700 hover:bg-blue-800 px-3 py-2 rounded-md transition-colors",children:[R.jsx(V,{className:"h-4 w-4"}),R.jsx("span",{children:"Sign Out"})]})]})]})})})},Sr=q.lazy(()=>J(()=>import("./ProgramList-cW_wob31.js"),__vite__mapDeps([0,1,2,3,4]))),Ar=q.lazy(()=>J(()=>import("./ProgramDetail-BcIi2jdi.js"),__vite__mapDeps([5,1,2,4,3]))),Ir=q.lazy(()=>J(()=>import("./WorkoutSession-DIbLsq9f.js"),__vite__mapDeps([6,1,2,4]))),Or=()=>R.jsx("div",{className:"flex justify-center items-center h-64",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),kr=function(e){var t;const n={[Nn]:e.amplify,[Sn]:e.authMode,[An]:e.authToken,[In]:"apiKey"in e?e.apiKey:void 0,[kn]:"endpoint"in e?e.endpoint:void 0,[On]:e.headers,graphql:yr,cancel:vr,isCancelError:br,models:Tr,enums:Tr,queries:Tr,mutations:Tr,subscriptions:Tr},i=null==(t=e.amplify.getConfig().API)?void 0:t.GraphQL;if(n[kn]){if(!n[Sn])throw new Error("generateClient() requires an explicit `authMode` when `endpoint` is provided.");if("apiKey"===n[Sn]&&!n[In])throw new Error("generateClient() requires an explicit `apiKey` when `endpoint` is provided and `authMode = 'apiKey'`.")}return n[kn]||(gr(i)?fr(n,i,wn):Er(n)),n}({amplify:x});function wr(){return R.jsx(D,{children:({signOut:e,user:t})=>R.jsxs("div",{className:"min-h-screen bg-gray-50",children:[R.jsx(Nr,{user:t,signOut:()=>{e&&e()}}),R.jsx("main",{className:"container mx-auto px-4 py-8",children:R.jsx(j.Suspense,{fallback:R.jsx(Or,{}),children:R.jsxs(K,{children:[R.jsx(U,{path:"/",element:R.jsx(Sr,{})}),R.jsx(U,{path:"/program/:id",element:R.jsx(Ar,{})}),R.jsx(U,{path:"/workout/:programId/:workoutId/:week",element:R.jsx(Ir,{})}),R.jsx(U,{path:"*",element:R.jsx(B,{to:"/",replace:!0})})]})})})]})})}const _r={auth:{user_pool_id:"us-east-1_VrFLPKfOb",aws_region:"us-east-1",user_pool_client_id:"31r66sjvtevlde6hnspsusmk85",identity_pool_id:"us-east-1:0f661c50-842b-40ee-901f-465ee34312eb",mfa_methods:[],standard_required_attributes:["email"],username_attributes:["email"],user_verification_types:["email"],groups:[],mfa_configuration:"NONE",password_policy:{min_length:8,require_lowercase:!0,require_numbers:!0,require_symbols:!0,require_uppercase:!0},unauthenticated_identities_enabled:!0},data:JSON.parse('{"url":"https://zgtlb6n4gvdhve2ejrumjsa2q4.appsync-api.us-east-1.amazonaws.com/graphql","aws_region":"us-east-1","default_authorization_type":"AMAZON_COGNITO_USER_POOLS","authorization_types":["AWS_IAM"],"model_introspection":{"version":1,"models":{"Program":{"name":"Program","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"durationWeeks":{"name":"durationWeeks","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"currentWeek":{"name":"currentWeek","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"isActive":{"name":"isActive","isArray":false,"type":"Boolean","isRequired":false,"attributes":[]},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[]},"workouts":{"name":"workouts","isArray":true,"type":{"model":"Workout"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["programId"]}},"workoutLogs":{"name":"workoutLogs","isArray":true,"type":{"model":"WorkoutLog"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["programId"]}},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"Programs","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Workout":{"name":"Workout","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"programId":{"name":"programId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"dayOfWeek":{"name":"dayOfWeek","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"exercises":{"name":"exercises","isArray":true,"type":{"model":"Exercise"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["workoutId"]}},"program":{"name":"program","isArray":false,"type":{"model":"Program"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["programId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"Workouts","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"Exercise":{"name":"Exercise","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"workoutId":{"name":"workoutId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"name":{"name":"name","isArray":false,"type":"String","isRequired":true,"attributes":[]},"youtubeUrl":{"name":"youtubeUrl","isArray":false,"type":"AWSURL","isRequired":false,"attributes":[]},"orderIndex":{"name":"orderIndex","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"workout":{"name":"workout","isArray":false,"type":{"model":"Workout"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["workoutId"]}},"exerciseWeekConfigs":{"name":"exerciseWeekConfigs","isArray":true,"type":{"model":"ExerciseWeekConfig"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["exerciseId"]}},"exerciseLogs":{"name":"exerciseLogs","isArray":true,"type":{"model":"ExerciseLog"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["exerciseId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"Exercises","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ExerciseWeekConfig":{"name":"ExerciseWeekConfig","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"exerciseId":{"name":"exerciseId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"weekNumber":{"name":"weekNumber","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"lastSetIntensityTechnique":{"name":"lastSetIntensityTechnique","isArray":false,"type":"String","isRequired":false,"attributes":[]},"warmupSets":{"name":"warmupSets","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"workingSets":{"name":"workingSets","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"reps":{"name":"reps","isArray":false,"type":"String","isRequired":false,"attributes":[]},"earlySetRPE":{"name":"earlySetRPE","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"lastSetRPE":{"name":"lastSetRPE","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"restSeconds":{"name":"restSeconds","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"substitutionOptions":{"name":"substitutionOptions","isArray":false,"type":"String","isRequired":false,"attributes":[]},"notes":{"name":"notes","isArray":false,"type":"String","isRequired":false,"attributes":[]},"exercise":{"name":"exercise","isArray":false,"type":{"model":"Exercise"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["exerciseId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"ExerciseWeekConfigs","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"WorkoutLog":{"name":"WorkoutLog","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"programId":{"name":"programId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"workoutId":{"name":"workoutId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"weekNumber":{"name":"weekNumber","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"completedAt":{"name":"completedAt","isArray":false,"type":"AWSDateTime","isRequired":true,"attributes":[]},"notes":{"name":"notes","isArray":false,"type":"String","isRequired":false,"attributes":[]},"program":{"name":"program","isArray":false,"type":{"model":"Program"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["programId"]}},"exerciseLogs":{"name":"exerciseLogs","isArray":true,"type":{"model":"ExerciseLog"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["workoutLogId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"WorkoutLogs","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"ExerciseLog":{"name":"ExerciseLog","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"workoutLogId":{"name":"workoutLogId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"exerciseId":{"name":"exerciseId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"setLogs":{"name":"setLogs","isArray":true,"type":{"model":"SetLog"},"isRequired":false,"attributes":[],"isArrayNullable":true,"association":{"connectionType":"HAS_MANY","associatedWith":["exerciseLogId"]}},"workoutLog":{"name":"workoutLog","isArray":false,"type":{"model":"WorkoutLog"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["workoutLogId"]}},"exercise":{"name":"exercise","isArray":false,"type":{"model":"Exercise"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["exerciseId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"ExerciseLogs","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}},"SetLog":{"name":"SetLog","fields":{"id":{"name":"id","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"exerciseLogId":{"name":"exerciseLogId","isArray":false,"type":"ID","isRequired":true,"attributes":[]},"setNumber":{"name":"setNumber","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"weight":{"name":"weight","isArray":false,"type":"Float","isRequired":false,"attributes":[]},"reps":{"name":"reps","isArray":false,"type":"Int","isRequired":true,"attributes":[]},"rpe":{"name":"rpe","isArray":false,"type":"Int","isRequired":false,"attributes":[]},"isWarmup":{"name":"isWarmup","isArray":false,"type":"Boolean","isRequired":false,"attributes":[]},"exerciseLog":{"name":"exerciseLog","isArray":false,"type":{"model":"ExerciseLog"},"isRequired":false,"attributes":[],"association":{"connectionType":"BELONGS_TO","targetNames":["exerciseLogId"]}},"createdAt":{"name":"createdAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true},"updatedAt":{"name":"updatedAt","isArray":false,"type":"AWSDateTime","isRequired":false,"attributes":[],"isReadOnly":true}},"syncable":true,"pluralName":"SetLogs","attributes":[{"type":"model","properties":{}},{"type":"auth","properties":{"rules":[{"provider":"userPools","ownerField":"owner","allow":"owner","identityClaim":"cognito:username","operations":["create","update","delete","read"]}]}}],"primaryKeyInfo":{"isCustomPrimaryKey":false,"primaryKeyFieldName":"id","sortKeyFieldNames":[]}}},"enums":{},"nonModels":{}}}'),version:"1.4"};L.configure(_r),Y.createRoot(document.getElementById("root")).render(R.jsx(q.StrictMode,{children:R.jsx($,{children:R.jsx(wr,{})})}));export{kr as c};
